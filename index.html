<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"></head>
<body>
  <button id="vapi-btn">🎙️ Speak</button>
  <script src="https://loomika-senthil-hash.github.io/smart_learner/"></script>
  <script>
    var vapiInstance = null;
    const assistant = "72794508-9ffd-4402-9a53-a75e0e192062";
    const apiKey = "1eafc618-9303-417f-8311-4f7e9d48b26b";

    (function(d,t){
      const s = d.createElement(t), h = d.getElementsByTagName(t)[0];
      s.src = "https://loomika-senthil-hash.github.io/smart_learner/";
      s.defer = s.async = true;
      h.parentNode.insertBefore(s, h);
      s.onload = () => {
        vapiInstance = window.vapiSDK.run({ apiKey, assistant });
        console.log("Vapi initialized:", vapiInstance);
      };
    })(document, "script");

    document.getElementById("vapi-btn").onclick = () => {
      if (vapiInstance) {
        vapiInstance.start({ assistant })
          .then(() => console.log("Call started"))
          .catch(err => console.error("Start failed:", err));
      } else {
        console.error("SDK not ready");
      }
    };
  </script>
</body>
</html>
