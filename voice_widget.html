<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"></head>
<body>
  <button id="vapi-btn">🎙️ Speak</button>
  <script src="https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js"></script>
  <script>
    let vapiInstance = null;
    const assistant = "YOUR_ASSISTANT_ID";
    const apiKey = "YOUR_PUBLIC_API_KEY";

    (function(d,t){
      const s = d.createElement(t), h = d.getElementsByTagName(t)[0];
      s.src = "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
      s.defer = s.async = true;
      h.parentNode.insertBefore(s, h);
      s.onload = () => {
        vapiInstance = window.vapiSDK.run({ apiKey, assistant });
        console.log("Vapi initialized:", vapiInstance);
      };
    })(document, "script");

    document.getElementById("vapi-btn").onclick = () => {
      if (vapiInstance) {
        vapiInstance.start({ assistant })
          .then(() => console.log("Call started"))
          .catch(err => console.error("Start failed:", err));
      } else {
        console.error("SDK not ready");
      }
    };
  </script>
</body>
</html>
